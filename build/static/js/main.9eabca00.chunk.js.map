{"version":3,"sources":["config.js","components/DishTile.js","components/MenuCategoryPanel.js","components/expand_arrow.svg","components/FilterSlideUpPanel.js","components/nomi-withword.svg","screens/MenuScreen.js","screens/RestaurantScreen.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","apiBaseUrl","require","DishTile","props","React","useState","showModal","setShowModal","Jumbotron","className","dish","name","onClick","description","Modal","show","aria-labelledby","onHide","centered","Header","bsPrefix","Body","tags","map","t","key","wrapper","beforeInjection","svg","classList","add","src","MenuCategoryPanel","dishes","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref","svgRef","title","width","height","viewBox","fill","ref","ForwardRef","forwardRef","FilterSlideUpPanel","state","selected","Set","expanded","onExpansionChanged","onApplyFilter","setState","onClearFilter","tag_keys","rows","cols","j","push","Col","has","id","tag","delete","Row","noGutters","Container","bind","size","Button","variant","disabled","genGrid","Component","_ref3","_ref4","_ref5","_ref6","_ref7","fillRule","clipRule","MenuScreen","error","menu","tabIndex","excludedDishes","panelExpanded","modalShow","fetch","then","res","json","data","parseMenu","catch","err","categories","dishesByCategory","dishesByTags","forEach","includes","category","index","lastIndex","console","log","setTimeout","originalDishes","filtered","selectedIndex","forceRenderTabPanel","onSelect","selectedTabClassName","selectedTabPanelClassName","c","getDishByCategoryWithFilter","href","onPanelExpansionChanged","backdrop","withUserAgent","RestaurantScreen","restaurantId","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.9eabca00.chunk.js","sourcesContent":["module.exports = {\n  'apiBaseUrl': {\n    'development': 'http://localhost:3000',\n    'production': 'https://nomi-menu-service.herokuapp.com'\n  }\n}","import React from 'react';\nimport './DishTile.css';\nimport { Jumbotron, Modal } from 'react-bootstrap';\nimport { ReactSVG } from 'react-svg';\n\nconst { apiBaseUrl } = require('../config');\n\nexport default function DishTile(props) {\n\n  const [showModal, setShowModal] = React.useState(false);\n\n  return (\n    <Jumbotron className='dish-tile'>\n      <div className='dish-title'>\n        <div className='dish-name'>{props.dish.name}</div>\n        <button className='info-btn' \n          onClick={() => setShowModal(true)}\n        >\n          i\n        </button>\n      </div>\n      <div className='separator'></div>\n      <div className='description'>{props.dish.description}</div>\n      <Modal\n        className='react-bootstrap-modal'\n        show={showModal}\n        aria-labelledby=\"contained-modal-vcenter\"\n        onHide={() => setShowModal(false)}\n        centered\n      >\n        <div className='tag-list-modal'>\n          <Modal.Header bsPrefix='tag-list-modal-title'>\n            Contains:\n          </Modal.Header>\n          <Modal.Body bsPrefix='tag-list-modal-body'>\n            {props.dish.tags.map(t => <div key={t.name} className='modal-tag-item'>\n              <ReactSVG\n                wrapper='span'\n                beforeInjection={svg => svg.classList.add('tag-icon')}\n                src={`${apiBaseUrl[process.env.NODE_ENV]}/api/assets/tag_icons/${t.name}.svg`}\n              />\n              {t.name}\n            </div>)}\n          </Modal.Body>\n        </div>\n      </Modal>\n    </Jumbotron>\n  );\n}","import React from 'react';\nimport DishTile from './DishTile';\nimport './MenuCategoryPanel.css';\n\nexport default function MenuCategoryPanel(props) {\n  return (<div className='dish-list-wrapper'>\n    {props.dishes.map(dish => \n      <DishTile key={dish.name} dish={dish}/>\n    )}\n  </div>);\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2 2L9.25926 10L16 2\",\n  stroke: \"black\",\n  strokeWidth: 2.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgExpandArrow = function SvgExpandArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 12,\n    viewBox: \"0 0 18 12\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExpandArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/expand_arrow.6c3ed883.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport './FilterSlideUpPanel.css';\nimport { Button, Container, Row, Col } from 'react-bootstrap';\nimport { ReactComponent as ExpandArrow } from './expand_arrow.svg';\n\nexport default class FilterSlideUpPanel extends React.Component {\n\n  state = {\n    selected: new Set(),\n  };\n\n  onExpansionChanged() {\n    const expanded = this.props.expanded;\n    this.props.onExpansionChanged(!expanded);\n  }\n\n  onApplyFilter() {\n    this.props.onApplyFilter(this.state.selected, false);\n  }\n\n  onClearFilter() {\n    this.setState({ selected: new Set() });\n    this.props.onClearFilter();\n  }\n\n  genGrid() {\n    const tags = this.props.tags;\n    const tag_keys = Object.keys(tags);\n    let rows = [];\n    for (let i = 0; i < tag_keys.length; i += 3) {\n      let cols = [];\n      for (let j = 0; j < 3; ++j) {\n        if (i + j >= tag_keys.length) { \n          cols.push(<Col key={j}></Col>);\n          continue;\n        }\n        cols.push(<Col key={j}>\n          <div \n            className={\n              this.state.selected.has(tags[tag_keys[i+j]].id)? \n                'tag-selected': 'tag-unselected'\n            }\n            onClick={() => {\n              const tag = tags[tag_keys[i+j]];\n              let selected = this.state.selected;\n              if (selected.has(tag.id)) { selected.delete(tag.id); }\n              else { selected.add(tag.id); }\n              this.setState({ selected: selected });\n            }}\n          >\n            {tags[tag_keys[i+j]].name}\n          </div>\n        </Col>);\n      }\n      rows.push(<Row noGutters={true} key={i}>{cols}</Row>);\n    }\n    return (\n      <div className='grid-container'><Container>{rows}</Container></div>\n    );\n  }\n  \n  render() {\n    return (\n      <div className='slide-up-panel'>\n        <div className='panel-header'>\n          <div id='header-row'>\n            <div \n              id='filter-txt' \n              className='panel-header-element'\n              onClick={this.onExpansionChanged.bind(this)}\n            >\n              Filters\n            </div>\n            <div className='panel-header-element'>\n              <div id='counter'\n                onClick={this.onExpansionChanged.bind(this)}\n                className={this.state.selected.size > 0? 'bg-danger': ''}\n              >\n                {this.state.selected.size}\n              </div>\n            </div>\n            <div id='spacer' className='panel-header-element' \n              onClick={this.onExpansionChanged.bind(this)}\n            ></div>\n            <div id='clear-btn-wrapper' className='panel-header-element'>\n              <Button id='clear-btn'\n                variant='secondary'\n                disabled={this.state.selected.size === 0}\n                onClick={this.onClearFilter.bind(this)}\n              >\n                Clear\n              </Button>\n            </div>\n            <div id='expand-btn' \n              className='panel-header-element'\n              onClick={this.onExpansionChanged.bind(this)}\n            >\n              <ExpandArrow className={\n                this.props.expanded? \n                  'expand-arrow-more': 'expand-arrow-less'\n              }/>\n            </div>\n            \n          </div>\n        </div>\n        {this.props.expanded?\n          <div className='panel-body'>\n            <i className='tag-section-subtitle'>Exclude dishes that contain:</i>\n            {this.genGrid()}\n            <Button\n              disabled={this.state.selected.size === 0}\n              id='save-btn'\n              variant='warning'\n              onClick={this.onApplyFilter.bind(this)}\n            >\n              Apply\n            </Button>\n            <div></div>\n          </div>\n          :\n          <div></div>\n        }\n      </div>\n    );\n  }\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M68.8537 86.8116C68.5284 86.9743 68.1488 87.0285 67.7151 87.0285C67.2813 87.0285 66.9559 86.8659 66.6848 86.5947C66.4137 86.3236 66.3053 85.8356 66.3053 85.2934C66.3053 84.7512 66.3595 84.1547 66.4679 83.5582C66.5764 82.9618 66.6848 82.2569 66.8475 81.552L67.7151 77.3768C67.7693 77.0515 67.8777 76.6719 67.932 76.2923C67.9862 75.9128 68.0946 75.5332 68.1488 75.1536C68.2031 74.7741 68.2573 74.3945 68.3115 74.015C68.3657 73.6354 68.3657 73.3101 68.3657 72.9305C68.3657 72.334 68.3115 71.7376 68.1488 71.2496C67.9862 70.7616 67.7693 70.2193 67.3897 69.8398C67.0102 69.4602 66.5764 69.0806 66.0341 68.8638C65.4919 68.6469 64.787 68.4842 63.9737 68.4842C63.1061 68.4842 62.2927 68.5926 61.5878 68.7553C60.8829 68.918 60.2323 69.2433 59.5816 69.5687C58.9309 69.894 58.2802 70.5989 57.9007 70.9785C57.4126 71.4665 56.1113 72.9847 56.1113 72.9847L56.1655 72.5509C56.3824 70.5447 54.8099 68.8095 52.8037 68.8095H50.5805C48.6827 68.8095 47.7609 69.6771 47.5982 70.87H48.3031C48.6827 70.87 49.008 70.87 49.2249 70.9242C49.4418 70.9785 49.7129 71.0327 49.8756 71.1411C50.0383 71.2496 50.1467 71.4122 50.2552 71.6291C50.3636 71.846 50.3636 72.1171 50.3636 72.4967C50.3636 72.5509 50.3636 72.6052 50.3636 72.7678C50.3636 72.9305 50.3094 73.0389 50.3094 73.2016C50.3094 73.3643 50.2552 73.527 50.201 73.6896C50.1467 73.8523 50.1467 74.015 50.0925 74.1776L46.8391 89.7397H52.6952L54.7015 80.6844C54.8099 80.1964 54.9726 79.6 55.1895 78.9493C55.4064 78.2986 55.6775 77.6479 55.9486 76.9972C56.2197 76.3466 56.5993 75.6959 56.9246 75.0452C57.25 74.3945 57.6838 73.8523 58.0633 73.3643C58.4429 72.8763 58.8767 72.4967 59.3105 72.1714C59.7442 71.846 60.178 71.7376 60.6118 71.7376C60.9372 71.7376 61.2083 71.7918 61.4252 71.9545C61.6421 72.1171 61.8047 72.2798 61.9132 72.4967C62.0216 72.7136 62.1301 72.9305 62.1843 73.2016C62.2385 73.4727 62.2385 73.7438 62.2385 73.9607C62.2385 74.2861 62.1843 74.6114 62.1301 75.0452C62.0758 75.479 62.0216 75.8585 61.9132 76.2381C61.8047 76.6177 61.7505 76.9972 61.6963 77.3768C61.6421 77.7564 61.5336 78.0817 61.4794 78.2986L60.8287 81.3893C60.3949 83.3956 60.178 84.9138 60.178 86.0525C60.178 87.2996 60.5576 88.2757 61.3709 88.9806C62.1843 89.6855 63.323 90.065 64.8412 90.065C65.5461 90.065 66.1968 90.0108 66.7933 89.8481C67.3897 89.6855 67.932 89.4686 68.42 89.2517C68.908 89.0348 69.3418 88.7095 69.7213 88.3841C70.1009 88.113 70.372 87.7877 70.6973 87.5165C70.7516 87.4623 70.7516 87.3539 70.6973 87.2997C70.4262 86.7032 69.6129 86.4863 68.8537 86.8116Z\",\n  fill: \"black\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M90.1092 70.382C89.3501 69.7313 88.4825 69.2433 87.5065 68.9179C86.5305 68.5926 85.446 68.4299 84.3616 68.4299C82.8975 68.4299 81.5419 68.6468 80.349 69.0264C79.1561 69.4059 78.0717 69.9482 77.1499 70.6531C76.2281 71.358 75.3605 72.1171 74.6556 72.9847C73.9507 73.8522 73.3542 74.8283 72.9205 75.8585C72.4867 76.8887 72.1071 77.8648 71.8902 78.9492C71.6733 80.0337 71.5649 81.0097 71.5649 81.9857C71.5649 83.3413 71.7818 84.5342 72.1613 85.5645C72.5409 86.5947 73.1374 87.4623 73.8423 88.1129C74.5472 88.7636 75.4147 89.3059 76.445 89.6312C77.4752 89.9565 78.5597 90.1192 79.8068 90.1192C81.2708 90.1192 82.6264 89.9023 83.8193 89.5227C85.0122 89.1432 86.0967 88.5467 87.0185 87.8961C87.9403 87.2454 88.7536 86.432 89.4585 85.5102C90.1634 84.5884 90.7057 83.6666 91.1937 82.6364C91.6817 81.6062 91.9528 80.6301 92.1697 79.5999C92.3866 78.5697 92.495 77.5936 92.495 76.6719C92.495 75.2078 92.2781 73.9607 91.8444 72.9305C91.4106 71.9002 90.8141 71.0326 90.1092 70.382ZM86.3678 77.7021C86.2594 78.5697 86.0967 79.4372 85.8798 80.3048C85.6629 81.1724 85.3918 82.0399 85.0665 82.9075C84.7411 83.7751 84.3615 84.48 83.8735 85.1307C83.3855 85.7813 82.8975 86.3236 82.3553 86.7031C81.8131 87.0827 81.1624 87.2996 80.4575 87.2996C79.5357 87.2996 78.7766 86.9743 78.2343 86.2694C77.6921 85.5645 77.421 84.4258 77.421 82.8533C77.421 82.1484 77.4752 81.335 77.5837 80.4675C77.6921 79.5999 77.8548 78.7323 78.1259 77.8648C78.397 76.9972 78.6681 76.1296 78.9935 75.3163C79.3188 74.5029 79.7526 73.7438 80.1864 73.1473C80.6202 72.5509 81.1624 72.0087 81.7046 71.6291C82.2468 71.2495 82.8975 71.0326 83.5482 71.0326C84.47 71.0326 85.1749 71.358 85.7171 72.0629C86.2594 72.7678 86.5305 73.8522 86.5305 75.3705C86.5305 76.0754 86.4763 76.8345 86.3678 77.7021Z\",\n  fill: \"black\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M127.035 86.6489C126.71 86.8116 126.33 86.8658 125.897 86.8658C125.463 86.8658 125.138 86.7031 124.866 86.432C124.595 86.1609 124.487 85.6729 124.487 85.1307C124.487 84.5884 124.541 83.992 124.65 83.3955C124.758 82.7991 124.866 82.0942 125.029 81.3893L125.951 77.2141C126.005 76.8887 126.114 76.5092 126.168 76.1296C126.222 75.7501 126.33 75.3705 126.385 74.9909C126.439 74.6114 126.493 74.2318 126.547 73.8522C126.602 73.4727 126.602 73.1473 126.602 72.7678C126.602 72.1713 126.547 71.5749 126.385 71.0869C126.222 70.5988 126.005 70.0566 125.626 69.6771C125.246 69.2975 124.812 68.9179 124.27 68.701C123.728 68.4841 123.077 68.3215 122.264 68.3215C121.45 68.3215 120.637 68.4299 119.932 68.5926C119.227 68.7553 118.576 69.0806 117.98 69.4602C117.384 69.8397 116.679 70.4904 116.299 70.9242C115.865 71.4122 114.564 72.9847 114.564 72.9847V72.7136C114.564 72.1171 114.51 71.5749 114.347 71.0869C114.184 70.5988 113.968 70.1108 113.642 69.7313C113.317 69.3517 112.883 69.0264 112.341 68.8095C111.799 68.5926 111.094 68.4841 110.28 68.4841C109.521 68.4841 108.762 68.5384 108.111 68.701C107.461 68.8637 106.81 69.1348 106.214 69.4602C105.617 69.7855 104.912 70.4362 104.533 70.8157C104.045 71.3038 102.689 72.822 102.689 72.822C103.069 70.7615 101.496 68.8637 99.3815 68.8637H97.0499C95.3147 68.8637 94.2303 69.7313 94.0676 70.9242H94.7725C95.1521 70.9242 95.4774 70.9242 95.6943 70.9784C95.9112 71.0326 96.1823 71.0869 96.345 71.1953C96.5076 71.3038 96.6161 71.4664 96.7245 71.6833C96.833 71.9002 96.833 72.1713 96.833 72.5509C96.833 72.6051 96.833 72.6593 96.833 72.822C96.833 72.9847 96.7788 73.0931 96.7788 73.2558C96.7788 73.4185 96.7245 73.5811 96.6703 73.7438C96.6161 73.9065 96.6161 74.0691 96.5619 74.2318L93.3085 89.7939H99.1646L101.334 79.9795C101.442 79.4915 101.605 78.9492 101.822 78.3528C102.038 77.7563 102.255 77.1599 102.581 76.5634C102.906 75.9669 103.177 75.3705 103.557 74.774C103.936 74.1776 104.262 73.6896 104.695 73.2558C105.129 72.822 105.509 72.4424 105.942 72.1713C106.376 71.9002 106.81 71.7918 107.244 71.7918C107.515 71.7918 107.786 71.846 107.949 72.0087C108.111 72.1713 108.274 72.334 108.328 72.4967C108.383 72.6593 108.491 72.9304 108.491 73.2016C108.491 73.4727 108.545 73.6896 108.545 73.9607C108.545 74.286 108.545 74.6656 108.491 75.0452C108.437 75.4247 108.383 75.8585 108.328 76.2381C108.274 76.6176 108.166 76.9972 108.111 77.3768C108.057 77.7563 108.003 78.0274 107.949 78.2985L107.352 81.0097C107.244 81.3893 107.19 81.8773 107.081 82.4195C106.973 82.9617 106.864 83.504 106.756 84.1004C106.647 84.6969 106.539 85.2933 106.43 85.8898C106.322 86.4863 106.214 87.0285 106.159 87.5707C106.105 88.113 105.997 88.5467 105.997 88.9263C105.997 89.3059 105.942 89.577 105.942 89.7396H112.015C112.015 89.6312 112.015 89.4143 112.07 89.089C112.124 88.7636 112.124 88.3298 112.178 87.8418C112.232 87.3538 112.287 86.8658 112.395 86.2694C112.503 85.6729 112.558 85.1849 112.612 84.6427C112.666 84.1004 112.775 83.6124 112.829 83.1244C112.883 82.6364 112.937 82.3111 112.992 82.04L113.317 80.4133C113.425 79.9252 113.534 79.3288 113.751 78.7323C113.968 78.1359 114.184 77.4852 114.51 76.8345C114.835 76.1838 115.106 75.5332 115.486 74.9367C115.865 74.3403 116.191 73.798 116.624 73.31C117.058 72.822 117.438 72.4424 117.817 72.1713C118.197 71.9002 118.631 71.7375 119.065 71.7375C119.39 71.7375 119.661 71.7918 119.824 71.9544C119.986 72.1171 120.203 72.2798 120.312 72.4967C120.42 72.7136 120.529 72.9304 120.529 73.2016C120.529 73.4727 120.583 73.7438 120.583 73.9607C120.583 74.286 120.583 74.6114 120.529 75.0452C120.474 75.4789 120.42 75.8585 120.366 76.2381C120.312 76.6176 120.203 76.9972 120.149 77.3768C120.095 77.7563 119.986 78.0817 119.932 78.2985L119.281 81.3893C119.065 82.3653 118.902 83.2871 118.793 84.0462C118.685 84.8053 118.631 85.456 118.631 86.0525C118.631 87.2996 119.01 88.2756 119.824 88.9805C120.637 89.6854 121.776 90.065 123.24 90.065C123.945 90.065 124.595 90.0108 125.192 89.8481C125.788 89.6854 126.33 89.4685 126.818 89.2516C127.306 89.0347 127.74 88.7094 128.12 88.3841C128.445 88.113 128.77 87.8418 129.042 87.5165C129.096 87.4623 129.096 87.2996 129.042 87.2454C128.608 86.5405 127.74 86.3236 127.035 86.6489Z\",\n  fill: \"black\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M141.242 87.2996C140.808 86.649 139.94 86.4321 139.235 86.7574C138.91 86.9201 138.531 86.9743 138.097 86.9743C137.663 86.9743 137.338 86.8116 137.121 86.5405C136.904 86.2694 136.741 85.7814 136.741 85.2391C136.741 84.6969 136.795 84.1005 136.904 83.504C137.012 82.9075 137.121 82.2026 137.283 81.4977L139.127 72.8763C139.561 70.7615 137.988 68.8095 135.819 68.8095H133.379C132.186 68.8095 130.56 69.6771 130.397 70.87H131.102C131.482 70.87 131.807 70.87 132.024 70.9242C132.241 70.9784 132.512 71.0327 132.674 71.1411C132.837 71.2496 132.946 71.4122 133.054 71.6291C133.162 71.846 133.162 72.1171 133.162 72.4967C133.162 72.5509 133.162 72.6051 133.162 72.7678C133.162 72.9305 133.108 73.0389 133.108 73.2016C133.108 73.3643 133.054 73.5269 133 73.6896C132.946 73.8523 132.946 74.0149 132.891 74.1776L131.373 81.4977C131.156 82.4738 130.994 83.3956 130.885 84.1547C130.777 84.9138 130.722 85.6187 130.722 86.1609C130.722 87.4081 131.102 88.3841 131.915 89.089C132.729 89.7939 133.867 90.1735 135.386 90.1735C136.091 90.1735 136.741 90.1192 137.338 89.9566C137.934 89.7939 138.476 89.577 138.964 89.3601C139.452 89.1432 139.886 88.8179 140.32 88.4925C140.645 88.2214 140.971 87.8961 141.242 87.625C141.296 87.5165 141.296 87.4081 141.242 87.2996Z\",\n  fill: \"black\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M137.609 66.4237C139.466 66.4237 140.971 64.9185 140.971 63.0619C140.971 61.2052 139.466 59.7 137.609 59.7C135.752 59.7 134.247 61.2052 134.247 63.0619C134.247 64.9185 135.752 66.4237 137.609 66.4237Z\",\n  fill: \"black\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M9.50169 71.85C9.13482 71.85 8.83604 72.1484 8.85048 72.515C9.08478 78.4648 12.4493 83.6102 17.3428 86.3503C18.3666 86.9235 18.4185 88.6749 18.0715 89.7958C17.963 90.1463 18.2687 90.45 18.6356 90.45H32.2535C32.6203 90.45 32.9261 90.1463 32.8176 89.7958C32.4706 88.6749 32.5224 86.9236 33.5462 86.3503C38.4398 83.6103 41.8043 78.4648 42.0386 72.515C42.0531 72.1484 41.7543 71.85 41.3874 71.85H9.50169ZM26.1485 83.641C29.6089 82.7276 32.0046 79.8311 31.7012 75.8533C31.6018 75.5035 31.4357 75.9187 31.4357 75.9187C30.2221 78.0593 28.4914 78.8943 26.1485 78.6584C25.6766 78.6162 25.2275 78.5128 24.7784 78.4093C24.3294 78.3058 23.8803 78.2023 23.4083 78.1602C22.0937 78.0591 20.9897 78.7253 20.5851 79.8209C20.2312 80.7985 20.7592 82.1866 21.7536 82.8944C22.9672 83.7541 24.4967 84.077 26.1485 83.641Z\",\n  fill: \"black\"\n});\n\nvar SvgNomiWithword = function SvgNomiWithword(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 135,\n    height: 32,\n    viewBox: \"8 59 135 32\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNomiWithword, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/nomi-withword.ee4dc9b3.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport MenuCategoryPanel from '../components/MenuCategoryPanel';\nimport FilterSlideUpPanel from '../components/FilterSlideUpPanel';\nimport { Modal } from 'react-bootstrap';\nimport { withUserAgent } from 'react-useragent';\nimport { ReactComponent as NomiLogo } from '../components/nomi-withword.svg';\nimport './MenuScreen.css';\n\nconst { apiBaseUrl } = require('../config');\n\nclass MenuScreen extends React.Component {\n\n  state = {\n    error: null,\n    menu: null,\n    tabIndex: 0,\n    selected: new Set(),\n    excludedDishes: new Set(),\n    panelExpanded: false,\n    modalShow: false,\n  };\n\n  componentDidMount() {\n    fetch(`${apiBaseUrl[process.env.NODE_ENV]}/webApi/dishes/1`)\n      .then(res => res.json())\n      .then(data => {\n        const menu = this.parseMenu(data);\n        this.setState({ \n          menu: menu,\n        });\n      })\n      .catch(err => this.setState({ error: err }));\n  }\n\n  parseMenu(data) {\n    // *********************** menu **************************\n    let menu = {\n      categories: [],\n      dishes: [],\n      dishesByCategory: {},\n      dishesByTags: {},\n      tags: {},\n    };\n\n    data.forEach(dish => {\n      menu.dishes[dish.id] = dish;\n      if (!menu.categories.includes(dish.category.name)) {\n        menu.categories.push(dish.category.name);\n        menu.dishesByCategory[dish.category.name] = [];\n      }\n      menu.dishesByCategory[dish.category.name].push(dish);\n      dish.tags.forEach(tag => {\n        if (!(tag.id in menu.tags)) {\n          menu.tags[tag.id] = tag;\n          menu.dishesByTags[tag.id] = [];\n        }\n        menu.dishesByTags[tag.id].push(dish);\n      });\n    });\n    return menu;\n  }\n\n  onSelect(index, lastIndex) {\n    if (lastIndex === index) {\n      return;\n    }\n    this.setState({ tabIndex: index });\n  }\n\n  onPanelExpansionChanged(expanded) {\n    console.log(expanded);\n    this.setState({ panelExpanded: expanded });\n  }\n\n  onApplyFilter(selected) {\n    let excluded = new Set();\n    selected.forEach(t => \n      this.state.menu.dishesByTags[t].forEach(d => excluded.add(d.id))\n    );\n    this.setState({\n      selected: selected,\n      excludedDishes: excluded,\n      panelExpanded: false,\n      modalShow: true\n    });\n    setTimeout(() => this.setState({ modalShow: false }), 1000);\n  }\n\n  onClearFilter() {\n    console.log(this.state.panelExpanded);\n    this.setState({\n      selected: new Set(),\n      excludedDishes: new Set(),\n    });\n  }\n\n  getDishByCategoryWithFilter(category) {\n    const originalDishes = this.state.menu.dishesByCategory[category];\n    let filtered = [];\n    originalDishes.forEach(d => {\n      if (!this.state.excludedDishes.has(d.id)) {\n        filtered.push(d);\n      }\n    });\n    return filtered;\n  }\n\n  render() {\n    const menu = this.state.menu;\n    if (menu) {\n      return (\n        <div className='menu-screen-wrapper'>\n          <Tabs\n            selectedIndex={this.state.tabIndex}\n            forceRenderTabPanel={true}\n            onSelect={this.onSelect.bind(this)}\n            selectedTabClassName='menu-tab-selected'\n            selectedTabPanelClassName='menu-panel-selected'\n          >\n            <TabList className='menu-tabs'>\n              {menu.categories.map(c =>\n                <Tab className='menu-tab' key={c}>{c}</Tab>\n              )}\n            </TabList>\n            {menu.categories.map(c => {\n              const dishes = this.getDishByCategoryWithFilter(c);\n              return <TabPanel key={c} className='menu-panel'>\n                <MenuCategoryPanel dishes={dishes}/>\n              </TabPanel>\n            })}\n          </Tabs>\n          <div className='nomi-logo-bar'>\n            <div className='nomi-logo-txt'>Powered by</div>\n            <a href='https://www.dinewithnomi.com/'>\n              <NomiLogo \n                width='70px'\n                height='16px'\n                className='nomi-logo'\n                fill='#8A9DB7'\n              />\n            </a>\n          </div>\n          <div className='slide-up-panel-wrapper'>\n            <FilterSlideUpPanel\n              tags={menu.tags}\n              expanded={this.state.panelExpanded}\n              onExpansionChanged={this.onPanelExpansionChanged.bind(this)}\n              onApplyFilter={this.onApplyFilter.bind(this)}\n              onClearFilter={this.onClearFilter.bind(this)}\n            />\n          </div>\n          <Modal\n            className='react-bootstrap-modal'\n            show={this.state.modalShow}\n            aria-labelledby=\"contained-modal-vcenter\"\n            centered\n            backdrop={false}\n          >\n            <div className='apply-filter-modal'>\n              <div className='num-wrapper'>{this.state.selected.size}</div>\n              Filters Applied\n            </div>\n          </Modal>\n        </div>\n      );\n    } else {\n      if (this.state.error) {\n        return <div>{this.state.error}</div>;\n      } else {\n        return <div>Loading...</div>;\n      }\n    }\n    \n  }\n}\n\nexport default withUserAgent(MenuScreen);","import React from 'react';\nimport MenuScreen from './MenuScreen';\nimport { ReactSVG } from 'react-svg';\nimport './MenuScreen.css';\n\nconst { apiBaseUrl } = require('../config');\n\nexport default function RestaurantScreen(props) {\n\n  return (\n    <div className='restaurant-screen'>\n      <a href='https://www.bacariwadams.com/'\n        className='restaurant-logo-bar'>\n        <ReactSVG \n          wrapper='span'\n          onClick={() => console.log('here')}\n          src={`${apiBaseUrl[process.env.NODE_ENV]}/api/assets/restaurant_logos/bacari.svg`}\n        />\n      </a>\n      <MenuScreen restaurantId={props.restaurantId}/>\n    </div>\n  );\n}","import React from 'react';\nimport './index.css';\nimport RestaurantScreen from './screens/RestaurantScreen';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <RestaurantScreen restaurantId={1}/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}