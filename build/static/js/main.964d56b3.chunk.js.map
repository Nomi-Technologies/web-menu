{"version":3,"sources":["config.js","components/DishTile.js","components/MenuCategoryPanel.js","components/expand_arrow.svg","components/FilterSlideUpPanel.js","screens/MenuScreen.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","DishTile","Jumbotron","className","this","props","dish","name","description","React","Component","MenuCategoryPanel","dishes","map","key","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref","svgRef","title","width","height","viewBox","fill","ref","ForwardRef","forwardRef","FilterSlideUpPanel","state","selected","Set","expanded","onExpansionChanged","onApplyFilter","setState","onClearFilter","tags","tag_keys","rows","cols","j","push","Col","has","id","onClick","tag","delete","add","Row","noGutters","Container","size","Button","variant","disabled","bind","genGrid","apiBaseUrl","require","MenuScreen","error","menu","tabIndex","excludedDishes","panelExpanded","popOverShow","fetch","then","res","json","data","parseMenu","catch","err","categories","dishesByCategory","dishesByTags","forEach","includes","category","index","lastIndex","t","setTimeout","originalDishes","filtered","selectedIndex","forceRenderTabPanel","onSelect","selectedTabClassName","selectedTabPanelClassName","c","getDishByCategoryWithFilter","onPanelExpansionChanged","Modal","show","aria-labelledby","centered","backdrop","class","App","restaurantId","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"oNAAAA,EAAOC,QAAU,CACf,WAAc,CACZ,YAAe,wBACf,WAAc,6C,0ICCGC,E,uKAGjB,OAAQ,kBAACC,EAAA,EAAD,CAAWC,UAAU,aAC3B,yBAAKA,UAAU,aAAaC,KAAKC,MAAMC,KAAKC,MAC5C,yBAAKJ,UAAU,cACf,yBAAKA,UAAU,eAAeC,KAAKC,MAAMC,KAAKE,kB,GANdC,IAAMC,WCAvBC,G,6KAGjB,OAAQ,yBAAKR,UAAU,qBACpBC,KAAKC,MAAMO,OAAOC,KAAI,SAAAP,GAAI,OACzB,kBAAC,EAAD,CAAUQ,IAAKR,EAAKC,KAAMD,KAAMA,Y,GALOG,IAAMC,Y,wCCJrD,SAASK,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAIL,KAAOQ,EAAcN,OAAOO,UAAUC,eAAeC,KAAKH,EAAQR,KAAQI,EAAOJ,GAAOQ,EAAOR,IAAY,OAAOI,IAA2BQ,MAAMtB,KAAMgB,WAEhT,SAASO,EAAyBL,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAAkER,EAAKK,EAAnED,EAEzF,SAAuCI,EAAQM,GAAY,GAAc,MAAVN,EAAgB,MAAO,GAAI,IAA2DR,EAAKK,EAA5DD,EAAS,GAAQW,EAAab,OAAOc,KAAKR,GAAqB,IAAKH,EAAI,EAAGA,EAAIU,EAAWR,OAAQF,IAAOL,EAAMe,EAAWV,GAAQS,EAASG,QAAQjB,IAAQ,IAAaI,EAAOJ,GAAOQ,EAAOR,IAAQ,OAAOI,EAFxMc,CAA8BV,EAAQM,GAAuB,GAAIZ,OAAOiB,sBAAuB,CAAE,IAAIC,EAAmBlB,OAAOiB,sBAAsBX,GAAS,IAAKH,EAAI,EAAGA,EAAIe,EAAiBb,OAAQF,IAAOL,EAAMoB,EAAiBf,GAAQS,EAASG,QAAQjB,IAAQ,GAAkBE,OAAOO,UAAUY,qBAAqBV,KAAKH,EAAQR,KAAgBI,EAAOJ,GAAOQ,EAAOR,IAAU,OAAOI,EAMne,IAAIkB,EAAqB,IAAMC,cAAc,OAAQ,CACnDC,EAAG,uBACHC,OAAQ,QACRC,YAAa,IACbC,cAAe,QACfC,eAAgB,UAGd,EAAiB,SAAwBC,GAC3C,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbxC,EAAQsB,EAAyBgB,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAMN,cAAc,MAAOtB,EAAS,CACtD+B,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,IAAKN,GACJvC,GAAQwC,EAAqB,IAAMR,cAAc,QAAS,KAAMQ,GAAS,KAAMT,IAGhFe,EAAa,IAAMC,YAAW,SAAU/C,EAAO6C,GACjD,OAAoB,IAAMb,cAAc,EAAgBtB,EAAS,CAC/D6B,OAAQM,GACP7C,OC5BgBgD,GD8BN,I,4MC5BbC,MAAQ,CACNC,SAAU,IAAIC,K,mEAId,IAAMC,EAAWrD,KAAKC,MAAMoD,SAC5BrD,KAAKC,MAAMqD,oBAAoBD,K,sCAI/BrD,KAAKC,MAAMsD,cAAcvD,KAAKkD,MAAMC,UAAU,K,sCAI9CnD,KAAKwD,SAAS,CAAEL,SAAU,IAAIC,MAC9BpD,KAAKC,MAAMwD,kB,gCAOX,IAJS,IAAD,OACFC,EAAO1D,KAAKC,MAAMyD,KAClBC,EAAW/C,OAAOc,KAAKgC,GACzBE,EAAO,GAHH,WAIC7C,GAEP,IADA,IAAI8C,EAAO,GALL,WAMGC,GACP,GAAI/C,EAAI+C,GAAKH,EAAS1C,OAEpB,OADA4C,EAAKE,KAAK,kBAACC,EAAA,EAAD,CAAKtD,IAAKoD,KACpB,WAEFD,EAAKE,KAAK,kBAACC,EAAA,EAAD,CAAKtD,IAAKoD,GAClB,yBACE/D,UACE,EAAKmD,MAAMC,SAASc,IAAIP,EAAKC,EAAS5C,EAAE+C,IAAII,IAC1C,eAAgB,iBAEpBC,QAAS,WACP,IAAMC,EAAMV,EAAKC,EAAS5C,EAAE+C,IACxBX,EAAW,EAAKD,MAAMC,SACtBA,EAASc,IAAIG,EAAIF,IAAOf,EAASkB,OAAOD,EAAIF,IACzCf,EAASmB,IAAIF,EAAIF,IACxB,EAAKV,SAAS,CAAEL,SAAUA,MAG3BO,EAAKC,EAAS5C,EAAE+C,IAAI3D,SAnBlB2D,EAAI,EAAGA,EAAI,IAAKA,EAAG,EAAnBA,GAuBTF,EAAKG,KAAK,kBAACQ,EAAA,EAAD,CAAKC,WAAW,EAAM9D,IAAKK,GAAI8C,KAzBlC9C,EAAI,EAAGA,EAAI4C,EAAS1C,OAAQF,GAAK,EAAI,EAArCA,GA2BT,OACE,yBAAKhB,UAAU,kBAAiB,kBAAC0E,EAAA,EAAD,KAAYb,M,+BAK9C,OACE,yBAAK7D,UAAU,kBACb,yBAAKA,UAAU,gBACb,yBAAKmE,GAAG,cACN,yBAAKA,GAAG,aAAanE,UAAU,wBAA/B,WAGA,yBAAKA,UAAU,wBACb,yBAAKmE,GAAG,UACNnE,UAAWC,KAAKkD,MAAMC,SAASuB,KAAO,EAAG,YAAa,IAErD1E,KAAKkD,MAAMC,SAASuB,OAGzB,yBAAKR,GAAG,SAASnE,UAAU,yBAC3B,yBAAKmE,GAAG,oBAAoBnE,UAAU,wBACpC,kBAAC4E,EAAA,EAAD,CAAQT,GAAG,YACTU,QAAQ,YACRC,SAAuC,IAA7B7E,KAAKkD,MAAMC,SAASuB,KAC9BP,QAASnE,KAAKyD,cAAcqB,KAAK9E,OAHnC,UAQF,yBAAKkE,GAAG,aACNnE,UAAU,uBACVoE,QAASnE,KAAKsD,mBAAmBwB,KAAK9E,OAEtC,kBAAC,EAAD,CAAaD,UACXC,KAAKC,MAAMoD,SACT,oBAAqB,yBAM9BrD,KAAKC,MAAMoD,SACV,yBAAKtD,UAAU,cACZC,KAAK+E,UACN,kBAACJ,EAAA,EAAD,CACET,GAAG,WACHU,QAAQ,UACRT,QAASnE,KAAKuD,cAAcuB,KAAK9E,OAHnC,SAOA,+BAGF,mC,GA1GsCK,IAAMC,Y,QCE9C0E,EAAeC,EAAQ,IAAvBD,WA0JOE,E,4MAtJbhC,MAAQ,CACNiC,MAAO,KACPC,KAAM,KACNC,SAAU,EACVlC,SAAU,IAAIC,IACdkC,eAAgB,IAAIlC,IACpBmC,eAAe,EACfC,aAAa,G,kEAGM,IAAD,OAClBC,MAAM,GAAD,OAAIT,EAAU,WAAd,qBACFU,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACJ,IAAMT,EAAO,EAAKU,UAAUD,GAC5B,EAAKrC,SAAS,CACZ4B,KAAMA,OAGTW,OAAM,SAAAC,GAAG,OAAI,EAAKxC,SAAS,CAAE2B,MAAOa,S,gCAG/BH,GAER,IAAIT,EAAO,CACTa,WAAY,GACZzF,OAAQ,GACR0F,iBAAkB,GAClBC,aAAc,GACdzC,KAAM,IAkBR,OAfAmC,EAAKO,SAAQ,SAAAlG,GACXkF,EAAK5E,OAAON,EAAKgE,IAAMhE,EAClBkF,EAAKa,WAAWI,SAASnG,EAAKoG,SAASnG,QAC1CiF,EAAKa,WAAWlC,KAAK7D,EAAKoG,SAASnG,MACnCiF,EAAKc,iBAAiBhG,EAAKoG,SAASnG,MAAQ,IAE9CiF,EAAKc,iBAAiBhG,EAAKoG,SAASnG,MAAM4D,KAAK7D,GAC/CA,EAAKwD,KAAK0C,SAAQ,SAAAhC,GACVA,EAAIF,MAAMkB,EAAK1B,OACnB0B,EAAK1B,KAAKU,EAAIF,IAAME,EACpBgB,EAAKe,aAAa/B,EAAIF,IAAM,IAE9BkB,EAAKe,aAAa/B,EAAIF,IAAIH,KAAK7D,SAG5BkF,I,+BAGAmB,EAAOC,GACVA,IAAcD,GAGlBvG,KAAKwD,SAAS,CAAE6B,SAAUkB,M,8CAGJlD,GACtBrD,KAAKwD,SAAS,CAAE+B,cAAelC,M,oCAGnBF,GAAW,IAAD,OAClB3B,EAAW,IAAI4B,IACnBD,EAASiD,SAAQ,SAAAK,GAAC,OAChB,EAAKvD,MAAMkC,KAAKe,aAAaM,GAAGL,SAAQ,SAAAlE,GAAC,OAAIV,EAAS8C,IAAIpC,EAAEgC,UAE9DlE,KAAKwD,SAAS,CACZL,SAAUA,EACVmC,eAAgB9D,EAChB+D,eAAe,EACfC,aAAa,IAEfkB,YAAW,kBAAM,EAAKlD,SAAS,CAAEgC,aAAa,MAAU,O,sCAIxDxF,KAAKwD,SAAS,CACZL,SAAU,IAAIC,IACdkC,eAAgB,IAAIlC,Q,kDAIIkD,GAAW,IAAD,OAC9BK,EAAiB3G,KAAKkD,MAAMkC,KAAKc,iBAAiBI,GACpDM,EAAW,GAMf,OALAD,EAAeP,SAAQ,SAAAlE,GAChB,EAAKgB,MAAMoC,eAAerB,IAAI/B,EAAEgC,KACnC0C,EAAS7C,KAAK7B,MAGX0E,I,+BAGC,IAAD,OACDxB,EAAOpF,KAAKkD,MAAMkC,KACxB,OAAIA,EAEA,yBAAKrF,UAAU,uBACb,kBAAC,IAAD,CACE8G,cAAe7G,KAAKkD,MAAMmC,SAC1ByB,qBAAqB,EACrBC,SAAU/G,KAAK+G,SAASjC,KAAK9E,MAC7BgH,qBAAqB,oBACrBC,0BAA0B,uBAE1B,kBAAC,IAAD,CAASlH,UAAU,aAChBqF,EAAKa,WAAWxF,KAAI,SAAAyG,GAAC,OACpB,kBAAC,IAAD,CAAKnH,UAAU,WAAWW,IAAKwG,GAAIA,OAGtC9B,EAAKa,WAAWxF,KAAI,SAAAyG,GACnB,IAAM1G,EAAS,EAAK2G,4BAA4BD,GAChD,OAAO,kBAAC,IAAD,CAAUxG,IAAKwG,EAAGnH,UAAU,cACjC,kBAAC,EAAD,CAAmBS,OAAQA,SAIjC,yBAAKT,UAAU,0BACb,kBAAC,EAAD,CACE2D,KAAM0B,EAAK1B,KACXL,SAAUrD,KAAKkD,MAAMqC,cACrBjC,mBAAoBtD,KAAKoH,wBAAwBtC,KAAK9E,MACtDuD,cAAevD,KAAKuD,cAAcuB,KAAK9E,MACvCyD,cAAezD,KAAKyD,cAAcqB,KAAK9E,SAG3C,kBAACqH,EAAA,EAAD,CACEC,KAAMtH,KAAKkD,MAAMsC,YACjB+B,kBAAgB,gCAChBC,UAAQ,EACR9C,KAAK,KACL+C,UAAU,GAEV,6BACE,yBAAKC,MAAM,eAAe1H,KAAKkD,MAAMC,SAASuB,MADhD,sBAOF1E,KAAKkD,MAAMiC,MACN,6BAAMnF,KAAKkD,MAAMiC,OAEjB,+C,GAjJU9E,IAAMC,WCGhBqH,MARf,WACE,OACE,yBAAK5H,UAAU,OACb,kBAAC,EAAD,CAAY6H,aAAc,MCKZC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB/C,MAAK,SAAAgD,GACJA,EAAaC,gBAEd5C,OAAM,SAAAZ,GACLyD,QAAQzD,MAAMA,EAAM0D,c","file":"static/js/main.964d56b3.chunk.js","sourcesContent":["module.exports = {\n  'apiBaseUrl': {\n    'development': 'http://localhost:3000',\n    'production': 'https://nomi-menu-service.herokuapp.com'\n  }\n}","import React from 'react';\nimport './DishTile.css';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\n\nexport default class DishTile extends React.Component {\n\n  render() {\n    return (<Jumbotron className='dish-tile'>\n      <div className='dish-name'>{this.props.dish.name}</div>\n      <div className='separator'></div>\n      <div className='description'>{this.props.dish.description}</div>\n    </Jumbotron>);\n  }\n}","import React from 'react';\nimport DishTile from './DishTile';\nimport './MenuCategoryPanel.css';\n\nexport default class MenuCategoryPanel extends React.Component {\n\n  render() {\n    return (<div className='dish-list-wrapper'>\n      {this.props.dishes.map(dish => \n        <DishTile key={dish.name} dish={dish}/>\n      )}\n    </div>);\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2 2L9.25926 10L16 2\",\n  stroke: \"black\",\n  strokeWidth: 2.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgExpandArrow = function SvgExpandArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 12,\n    viewBox: \"0 0 18 12\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExpandArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/expand_arrow.6c3ed883.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport './FilterSlideUpPanel.css';\nimport { Button, Container, Row, Col } from 'react-bootstrap';\nimport { ReactComponent as ExpandArrow } from './expand_arrow.svg';\n\nexport default class FilterSlideUpPanel extends React.Component {\n\n  state = {\n    selected: new Set(),\n  };\n\n  onExpansionChanged() {\n    const expanded = this.props.expanded;\n    this.props.onExpansionChanged(!expanded);\n  }\n\n  onApplyFilter() {\n    this.props.onApplyFilter(this.state.selected, false);\n  }\n\n  onClearFilter() {\n    this.setState({ selected: new Set() });\n    this.props.onClearFilter();\n  }\n\n  genGrid() {\n    const tags = this.props.tags;\n    const tag_keys = Object.keys(tags);\n    let rows = [];\n    for (let i = 0; i < tag_keys.length; i += 3) {\n      let cols = [];\n      for (let j = 0; j < 3; ++j) {\n        if (i + j >= tag_keys.length) { \n          cols.push(<Col key={j}></Col>);\n          continue;\n        }\n        cols.push(<Col key={j}>\n          <div \n            className={\n              this.state.selected.has(tags[tag_keys[i+j]].id)? \n                'tag-selected': 'tag-unselected'\n            }\n            onClick={() => {\n              const tag = tags[tag_keys[i+j]];\n              let selected = this.state.selected;\n              if (selected.has(tag.id)) { selected.delete(tag.id); }\n              else { selected.add(tag.id); }\n              this.setState({ selected: selected });\n            }}\n          >\n            {tags[tag_keys[i+j]].name}\n          </div>\n        </Col>);\n      }\n      rows.push(<Row noGutters={true} key={i}>{cols}</Row>);\n    }\n    return (\n      <div className='grid-container'><Container>{rows}</Container></div>\n    );\n  }\n  \n  render() {\n    return (\n      <div className='slide-up-panel'>\n        <div className='panel-header'>\n          <div id='header-row'>\n            <div id='filter-txt' className='panel-header-element'>\n              Filters\n            </div>\n            <div className='panel-header-element' >\n              <div id='counter'\n                className={this.state.selected.size > 0? 'bg-danger': ''}\n              >\n                {this.state.selected.size}\n              </div>\n            </div>\n            <div id='spacer' className='panel-header-element'></div>\n            <div id='clear-btn-wrapper' className='panel-header-element'>\n              <Button id='clear-btn'\n                variant='secondary'\n                disabled={this.state.selected.size === 0}\n                onClick={this.onClearFilter.bind(this)}\n              >\n                Clear\n              </Button>\n            </div>\n            <div id='expand-btn' \n              className='panel-header-element'\n              onClick={this.onExpansionChanged.bind(this)}\n            >\n              <ExpandArrow className={\n                this.props.expanded? \n                  'expand-arrow-more': 'expand-arrow-less'\n              }/>\n            </div>\n            \n          </div>\n        </div>\n        {this.props.expanded?\n          <div className='panel-body'>\n            {this.genGrid()}\n            <Button \n              id='save-btn'\n              variant='warning'\n              onClick={this.onApplyFilter.bind(this)}\n            >\n              Apply\n            </Button>\n            <div></div>\n          </div>\n          :\n          <div></div>\n        }\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport MenuCategoryPanel from '../components/MenuCategoryPanel';\nimport FilterSlideUpPanel from '../components/FilterSlideUpPanel';\nimport { Modal } from 'react-bootstrap';\nimport '../index.css';\n\nconst { apiBaseUrl } = require('../config');\n\nclass MenuScreen extends React.Component {\n\n  state = {\n    error: null,\n    menu: null,\n    tabIndex: 0,\n    selected: new Set(),\n    excludedDishes: new Set(),\n    panelExpanded: false,\n    popOverShow: false,\n  };\n\n  componentDidMount() {\n    fetch(`${apiBaseUrl[process.env.NODE_ENV]}/webApi/dishes/1`)\n      .then(res => res.json())\n      .then(data => {\n        const menu = this.parseMenu(data);\n        this.setState({ \n          menu: menu,\n        });\n      })\n      .catch(err => this.setState({ error: err }));\n  }\n\n  parseMenu(data) {\n    // *********************** menu **************************\n    let menu = {\n      categories: [],\n      dishes: [],\n      dishesByCategory: {},\n      dishesByTags: {},\n      tags: {},\n    };\n\n    data.forEach(dish => {\n      menu.dishes[dish.id] = dish;\n      if (!menu.categories.includes(dish.category.name)) {\n        menu.categories.push(dish.category.name);\n        menu.dishesByCategory[dish.category.name] = [];\n      }\n      menu.dishesByCategory[dish.category.name].push(dish);\n      dish.tags.forEach(tag => {\n        if (!(tag.id in menu.tags)) {\n          menu.tags[tag.id] = tag;\n          menu.dishesByTags[tag.id] = [];\n        }\n        menu.dishesByTags[tag.id].push(dish);\n      });\n    });\n    return menu;\n  }\n\n  onSelect(index, lastIndex) {\n    if (lastIndex === index) {\n      return;\n    }\n    this.setState({ tabIndex: index });\n  }\n\n  onPanelExpansionChanged(expanded) {\n    this.setState({ panelExpanded: expanded });\n  }\n\n  onApplyFilter(selected) {\n    let excluded = new Set();\n    selected.forEach(t => \n      this.state.menu.dishesByTags[t].forEach(d => excluded.add(d.id))\n    );\n    this.setState({\n      selected: selected,\n      excludedDishes: excluded,\n      panelExpanded: false,\n      popOverShow: true\n    });\n    setTimeout(() => this.setState({ popOverShow: false }), 1000);\n  }\n\n  onClearFilter() {\n    this.setState({\n      selected: new Set(),\n      excludedDishes: new Set(),\n    });\n  }\n\n  getDishByCategoryWithFilter(category) {\n    const originalDishes = this.state.menu.dishesByCategory[category];\n    let filtered = [];\n    originalDishes.forEach(d => {\n      if (!this.state.excludedDishes.has(d.id)) {\n        filtered.push(d);\n      }\n    });\n    return filtered;\n  }\n\n  render() {\n    const menu = this.state.menu;\n    if (menu) {\n      return (\n        <div className='menu-screen-wrapper'>\n          <Tabs\n            selectedIndex={this.state.tabIndex}\n            forceRenderTabPanel={true}\n            onSelect={this.onSelect.bind(this)}\n            selectedTabClassName='menu-tab-selected'\n            selectedTabPanelClassName='menu-panel-selected'\n          >\n            <TabList className='menu-tabs'>\n              {menu.categories.map(c =>\n                <Tab className='menu-tab' key={c}>{c}</Tab>\n              )}\n            </TabList>\n            {menu.categories.map(c => {\n              const dishes = this.getDishByCategoryWithFilter(c);\n              return <TabPanel key={c} className='menu-panel'>\n                <MenuCategoryPanel dishes={dishes}/>\n              </TabPanel>\n            })}\n          </Tabs>\n          <div className='slide-up-panel-wrapper'>\n            <FilterSlideUpPanel\n              tags={menu.tags}\n              expanded={this.state.panelExpanded}\n              onExpansionChanged={this.onPanelExpansionChanged.bind(this)}\n              onApplyFilter={this.onApplyFilter.bind(this)}\n              onClearFilter={this.onClearFilter.bind(this)}\n            />\n          </div>\n          <Modal\n            show={this.state.popOverShow}\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n            size='sm'\n            backdrop={false}\n          >\n            <div>\n              <div class='num-wrapper'>{this.state.selected.size}</div> Filters Applied\n            </div>\n          </Modal>\n        </div>\n      );\n    } else {\n      if (this.state.error) {\n        return <div>{this.state.error}</div>;\n      } else {\n        return <div>Loading...</div>;\n      }\n    }\n    \n  }\n}\n\nexport default MenuScreen;","import React from 'react';\nimport './index.css';\nimport MenuScreen from './screens/MenuScreen';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MenuScreen restaurantId={1}/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}