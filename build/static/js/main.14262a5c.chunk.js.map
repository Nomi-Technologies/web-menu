{"version":3,"sources":["config.js","components/DishTile.js","components/MenuCategoryPanel.js","components/expand_arrow.svg","components/FilterSlideUpPanel.js","screens/MenuScreen.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","DishTile","props","React","useState","showModal","setShowModal","Jumbotron","className","dish","name","onClick","description","Modal","show","aria-labelledby","onHide","centered","Header","Body","tags","map","t","MenuCategoryPanel","dishes","key","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref","svgRef","title","width","height","viewBox","fill","ref","ForwardRef","forwardRef","FilterSlideUpPanel","state","selected","Set","expanded","onExpansionChanged","onApplyFilter","setState","onClearFilter","tag_keys","rows","cols","j","push","Col","has","id","tag","delete","add","Row","noGutters","Container","size","Button","variant","disabled","bind","genGrid","Component","apiBaseUrl","require","MenuScreen","error","menu","tabIndex","excludedDishes","panelExpanded","modalShow","fetch","then","res","json","data","parseMenu","catch","err","categories","dishesByCategory","dishesByTags","forEach","includes","category","index","lastIndex","setTimeout","originalDishes","filtered","selectedIndex","forceRenderTabPanel","onSelect","selectedTabClassName","selectedTabPanelClassName","c","getDishByCategoryWithFilter","onPanelExpansionChanged","backdrop","App","restaurantId","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console","message"],"mappings":"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","file":"static/js/main.14262a5c.chunk.js","sourcesContent":["module.exports = {\n  'apiBaseUrl': {\n    'development': 'http://localhost:3000',\n    'production': 'https://nomi-menu-service.herokuapp.com'\n  }\n}","import React from 'react';\nimport './DishTile.css';\nimport { Jumbotron, Modal } from 'react-bootstrap';\n\nexport default function DishTile(props) {\n\n  const [showModal, setShowModal] = React.useState(false);\n\n  return (\n    <Jumbotron className='dish-tile'>\n      <div className='dish-title'>\n        <div className='dish-name'>{props.dish.name}</div>\n        <button className='info-btn' \n          onClick={() => setShowModal(true)}\n        >\n          i\n        </button>\n      </div>\n      <div className='separator'></div>\n      <div className='description'>{props.dish.description}</div>\n      <Modal\n        className='react-bootstrap-modal'\n        show={showModal}\n        aria-labelledby=\"contained-modal-vcenter\"\n        onHide={() => setShowModal(false)}\n        centered\n      >\n        <div className='tag-list-modal'>\n          <Modal.Header>\n            Contains\n          </Modal.Header>\n          <Modal.Body>\n              {props.dish.tags.map(t => <div>{t.name}</div>)}\n          </Modal.Body>\n        </div>\n      </Modal>\n    </Jumbotron>\n  );\n}","import React from 'react';\nimport DishTile from './DishTile';\nimport './MenuCategoryPanel.css';\n\nexport default function MenuCategoryPanel(props) {\n  return (<div className='dish-list-wrapper'>\n    {props.dishes.map(dish => \n      <DishTile key={dish.name} dish={dish}/>\n    )}\n  </div>);\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2 2L9.25926 10L16 2\",\n  stroke: \"black\",\n  strokeWidth: 2.5,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgExpandArrow = function SvgExpandArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 18,\n    height: 12,\n    viewBox: \"0 0 18 12\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgExpandArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/expand_arrow.6c3ed883.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport './FilterSlideUpPanel.css';\nimport { Button, Container, Row, Col } from 'react-bootstrap';\nimport { ReactComponent as ExpandArrow } from './expand_arrow.svg';\n\nexport default class FilterSlideUpPanel extends React.Component {\n\n  state = {\n    selected: new Set(),\n  };\n\n  onExpansionChanged() {\n    const expanded = this.props.expanded;\n    this.props.onExpansionChanged(!expanded);\n  }\n\n  onApplyFilter() {\n    this.props.onApplyFilter(this.state.selected, false);\n  }\n\n  onClearFilter() {\n    this.setState({ selected: new Set() });\n    this.props.onClearFilter();\n  }\n\n  genGrid() {\n    const tags = this.props.tags;\n    const tag_keys = Object.keys(tags);\n    let rows = [];\n    for (let i = 0; i < tag_keys.length; i += 3) {\n      let cols = [];\n      for (let j = 0; j < 3; ++j) {\n        if (i + j >= tag_keys.length) { \n          cols.push(<Col key={j}></Col>);\n          continue;\n        }\n        cols.push(<Col key={j}>\n          <div \n            className={\n              this.state.selected.has(tags[tag_keys[i+j]].id)? \n                'tag-selected': 'tag-unselected'\n            }\n            onClick={() => {\n              const tag = tags[tag_keys[i+j]];\n              let selected = this.state.selected;\n              if (selected.has(tag.id)) { selected.delete(tag.id); }\n              else { selected.add(tag.id); }\n              this.setState({ selected: selected });\n            }}\n          >\n            {tags[tag_keys[i+j]].name}\n          </div>\n        </Col>);\n      }\n      rows.push(<Row noGutters={true} key={i}>{cols}</Row>);\n    }\n    return (\n      <div className='grid-container'><Container>{rows}</Container></div>\n    );\n  }\n  \n  render() {\n    return (\n      <div className='slide-up-panel'>\n        <div className='panel-header'>\n          <div id='header-row'>\n            <div id='filter-txt' className='panel-header-element'>\n              Filters\n            </div>\n            <div className='panel-header-element' >\n              <div id='counter'\n                className={this.state.selected.size > 0? 'bg-danger': ''}\n              >\n                {this.state.selected.size}\n              </div>\n            </div>\n            <div id='spacer' className='panel-header-element'></div>\n            <div id='clear-btn-wrapper' className='panel-header-element'>\n              <Button id='clear-btn'\n                variant='secondary'\n                disabled={this.state.selected.size === 0}\n                onClick={this.onClearFilter.bind(this)}\n              >\n                Clear\n              </Button>\n            </div>\n            <div id='expand-btn' \n              className='panel-header-element'\n              onClick={this.onExpansionChanged.bind(this)}\n            >\n              <ExpandArrow className={\n                this.props.expanded? \n                  'expand-arrow-more': 'expand-arrow-less'\n              }/>\n            </div>\n            \n          </div>\n        </div>\n        {this.props.expanded?\n          <div className='panel-body'>\n            {this.genGrid()}\n            <Button \n              id='save-btn'\n              variant='warning'\n              onClick={this.onApplyFilter.bind(this)}\n            >\n              Apply\n            </Button>\n            <div></div>\n          </div>\n          :\n          <div></div>\n        }\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport MenuCategoryPanel from '../components/MenuCategoryPanel';\nimport FilterSlideUpPanel from '../components/FilterSlideUpPanel';\nimport { Modal } from 'react-bootstrap';\nimport '../index.css';\n\nconst { apiBaseUrl } = require('../config');\n\nclass MenuScreen extends React.Component {\n\n  state = {\n    error: null,\n    menu: null,\n    tabIndex: 0,\n    selected: new Set(),\n    excludedDishes: new Set(),\n    panelExpanded: false,\n    modalShow: false,\n  };\n\n  componentDidMount() {\n    fetch(`${apiBaseUrl[process.env.NODE_ENV]}/webApi/dishes/1`)\n      .then(res => res.json())\n      .then(data => {\n        const menu = this.parseMenu(data);\n        this.setState({ \n          menu: menu,\n        });\n      })\n      .catch(err => this.setState({ error: err }));\n  }\n\n  parseMenu(data) {\n    // *********************** menu **************************\n    let menu = {\n      categories: [],\n      dishes: [],\n      dishesByCategory: {},\n      dishesByTags: {},\n      tags: {},\n    };\n\n    data.forEach(dish => {\n      menu.dishes[dish.id] = dish;\n      if (!menu.categories.includes(dish.category.name)) {\n        menu.categories.push(dish.category.name);\n        menu.dishesByCategory[dish.category.name] = [];\n      }\n      menu.dishesByCategory[dish.category.name].push(dish);\n      dish.tags.forEach(tag => {\n        if (!(tag.id in menu.tags)) {\n          menu.tags[tag.id] = tag;\n          menu.dishesByTags[tag.id] = [];\n        }\n        menu.dishesByTags[tag.id].push(dish);\n      });\n    });\n    return menu;\n  }\n\n  onSelect(index, lastIndex) {\n    if (lastIndex === index) {\n      return;\n    }\n    this.setState({ tabIndex: index });\n  }\n\n  onPanelExpansionChanged(expanded) {\n    this.setState({ panelExpanded: expanded });\n  }\n\n  onApplyFilter(selected) {\n    let excluded = new Set();\n    selected.forEach(t => \n      this.state.menu.dishesByTags[t].forEach(d => excluded.add(d.id))\n    );\n    this.setState({\n      selected: selected,\n      excludedDishes: excluded,\n      panelExpanded: false,\n      modalShow: true\n    });\n    setTimeout(() => this.setState({ modalShow: false }), 1000);\n  }\n\n  onClearFilter() {\n    this.setState({\n      selected: new Set(),\n      excludedDishes: new Set(),\n    });\n  }\n\n  getDishByCategoryWithFilter(category) {\n    const originalDishes = this.state.menu.dishesByCategory[category];\n    let filtered = [];\n    originalDishes.forEach(d => {\n      if (!this.state.excludedDishes.has(d.id)) {\n        filtered.push(d);\n      }\n    });\n    return filtered;\n  }\n\n  render() {\n    const menu = this.state.menu;\n    if (menu) {\n      return (\n        <div className='menu-screen-wrapper'>\n          <Tabs\n            selectedIndex={this.state.tabIndex}\n            forceRenderTabPanel={true}\n            onSelect={this.onSelect.bind(this)}\n            selectedTabClassName='menu-tab-selected'\n            selectedTabPanelClassName='menu-panel-selected'\n          >\n            <TabList className='menu-tabs'>\n              {menu.categories.map(c =>\n                <Tab className='menu-tab' key={c}>{c}</Tab>\n              )}\n            </TabList>\n            {menu.categories.map(c => {\n              const dishes = this.getDishByCategoryWithFilter(c);\n              return <TabPanel key={c} className='menu-panel'>\n                <MenuCategoryPanel dishes={dishes}/>\n              </TabPanel>\n            })}\n          </Tabs>\n          <div className='slide-up-panel-wrapper'>\n            <FilterSlideUpPanel\n              tags={menu.tags}\n              expanded={this.state.panelExpanded}\n              onExpansionChanged={this.onPanelExpansionChanged.bind(this)}\n              onApplyFilter={this.onApplyFilter.bind(this)}\n              onClearFilter={this.onClearFilter.bind(this)}\n            />\n          </div>\n          <Modal\n            className='react-bootstrap-modal'\n            show={this.state.modalShow}\n            aria-labelledby=\"contained-modal-vcenter\"\n            centered\n            backdrop={false}\n          >\n            <div className='apply-filter-modal'>\n              <div className='num-wrapper'>{this.state.selected.size}</div>\n              Filters Applied\n            </div>\n          </Modal>\n        </div>\n      );\n    } else {\n      if (this.state.error) {\n        return <div>{this.state.error}</div>;\n      } else {\n        return <div>Loading...</div>;\n      }\n    }\n    \n  }\n}\n\nexport default MenuScreen;","import React from 'react';\nimport './index.css';\nimport MenuScreen from './screens/MenuScreen';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <MenuScreen restaurantId={1}/>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}